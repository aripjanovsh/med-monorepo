import { Treatment, TreatmentStats } from "@/types/treatment";

export const mockTreatments: Treatment[] = [
  {
    id: "1",
    name: "Регулярная чистка зубов",
    description: "Плановая чистка зубов и удаление налета для поддержания здоровья полости рта",
    category: "PREVENTIVE_CARE",
    duration: 60,
    price: 150,
    status: "ACTIVE",
    requirements: ["Базовый осмотр", "Изучение медицинской истории"],
    equipmentNeeded: ["Ультразвуковой скалер", "Ручные инструменты", "Инструменты для полировки"],
    specialization: "Стоматолог-гигиенист",
    difficulty: "BASIC",
    createdAt: "2024-01-01T00:00:00Z",
    updatedAt: "2024-01-15T00:00:00Z",
    createdBy: "Dr. Sarah Johnson",
    procedures: [
      {
        id: "1-1",
        step: 1,
        title: "Первичный осмотр",
        description: "Визуальный осмотр зубов и десен",
        duration: 10,
        tools: ["Стоматологическое зеркало", "Зонд"],
      },
      {
        id: "1-2",
        step: 2,
        title: "Удаление налета",
        description: "Удаление налета и зубного камня с помощью ультразвукового скалера",
        duration: 30,
        tools: ["Ультразвуковой скалер", "Ручные скалеры"],
      },
      {
        id: "1-3",
        step: 3,
        title: "Полировка",
        description: "Полировка зубов для удаления пятен и выравнивания поверхности",
        duration: 15,
        tools: ["Полировочная паста", "Резиновая чашка"],
      },
      {
        id: "1-4",
        step: 4,
        title: "Фторирование",
        description: "Применение фторида для профилактики кариеса",
        duration: 5,
        tools: ["Фторидный гель", "Каппы"],
      },
    ],
    contraindications: ["Активная инфекция полости рта", "Недавняя операция в полости рта"],
    sideEffects: ["Легкая чувствительность", "Временное раздражение десен"],
    followUpRequired: true,
    followUpDays: 180,
    preparationInstructions: "Почистите зубы щеткой и нитью перед приемом",
    postTreatmentCare: "Избегайте приема пищи в течение 30 минут после фторирования",
    estimatedSessions: 1,
    tags: ["плановая", "профилактика", "чистка"],
    isActive: true,
  },
  {
    id: "2",
    name: "Лечение корневых каналов",
    description: "Эндодонтическое лечение для сохранения инфицированных или сильно поврежденных зубов",
    category: "ENDODONTICS",
    duration: 90,
    price: 800,
    status: "ACTIVE",
    requirements: ["Рентгеновское обследование", "Оценка боли", "Тест на жизнеспособность"],
    equipmentNeeded: ["Ротационные файлы", "Апекслокатор", "Коффердам", "Микроскоп"],
    specialization: "Эндодонтист",
    difficulty: "ADVANCED",
    createdAt: "2024-01-01T00:00:00Z",
    updatedAt: "2024-01-20T00:00:00Z",
    createdBy: "Dr. Michael Chen",
    procedures: [
      {
        id: "2-1",
        step: 1,
        title: "Создание доступа",
        description: "Создание отверстия для доступа к пульповой камере",
        duration: 15,
        tools: ["Высокоскоростная бормашина", "Алмазный бор"],
      },
      {
        id: "2-2",
        step: 2,
        title: "Удаление пульпы",
        description: "Удаление инфицированной или поврежденной пульпы",
        duration: 20,
        tools: ["Пульпоэкстракторы", "Файлы"],
      },
      {
        id: "2-3",
        step: 3,
        title: "Очистка каналов",
        description: "Очистка и формирование корневых каналов",
        duration: 40,
        tools: ["Ротационные файлы", "Ирригационный раствор"],
      },
      {
        id: "2-4",
        step: 4,
        title: "Пломбирование каналов",
        description: "Заполнение и герметизация очищенных каналов",
        duration: 15,
        tools: ["Гуттаперча", "Силер", "Плаггеры"],
      },
    ],
    contraindications: ["Невосстановимый зуб", "Вертикальный перелом корня"],
    sideEffects: ["Послеоперационная боль", "Временная чувствительность", "Отек"],
    followUpRequired: true,
    followUpDays: 14,
    preparationInstructions: "Принимайте назначенные антибиотики, если они выписаны",
    postTreatmentCare: "Избегайте жевания на обработанном зубе до постоянной реставрации",
    estimatedSessions: 2,
    tags: ["эндодонтия", "корневой канал", "инфекция"],
    isActive: true,
  },
  {
    id: "3",
    name: "Установка зубного импланта",
    description: "Хирургическая установка титанового импланта для замены отсутствующего зуба",
    category: "ORAL_SURGERY",
    duration: 120,
    price: 2500,
    status: "ACTIVE",
    requirements: ["CT scan", "Bone density assessment", "Medical clearance"],
    equipmentNeeded: ["Surgical kit", "Implant system", "Bone graft materials"],
    specialization: "Хирург-стоматолог",
    difficulty: "EXPERT",
    createdAt: "2024-01-01T00:00:00Z",
    updatedAt: "2024-01-25T00:00:00Z",
    createdBy: "Dr. Jennifer Martinez",
    procedures: [
      {
        id: "3-1",
        step: 1,
        title: "Site Preparation",
        description: "Prepare surgical site and administer anesthesia",
        duration: 20,
        tools: ["Local anesthetic", "Surgical drapes"],
      },
      {
        id: "3-2",
        step: 2,
        title: "Flap Creation",
        description: "Create surgical flap to access bone",
        duration: 15,
        tools: ["Scalpel", "Periosteal elevator"],
      },
      {
        id: "3-3",
        step: 3,
        title: "Osteotomy",
        description: "Prepare implant site in bone",
        duration: 30,
        tools: ["Surgical drills", "Irrigation system"],
      },
      {
        id: "3-4",
        step: 4,
        title: "Implant Insertion",
        description: "Place titanium implant into prepared site",
        duration: 20,
        tools: ["Implant", "Torque wrench", "Driver"],
      },
      {
        id: "3-5",
        step: 5,
        title: "Closure",
        description: "Close surgical site and place healing cap",
        duration: 35,
        tools: ["Sutures", "Healing abutment"],
      },
    ],
    contraindications: ["Insufficient bone", "Active periodontal disease", "Uncontrolled diabetes"],
    sideEffects: ["Swelling", "Bleeding", "Pain", "Infection risk"],
    followUpRequired: true,
    followUpDays: 7,
    preparationInstructions: "Pre-operative antibiotics, no smoking 2 weeks prior",
    postTreatmentCare: "Soft diet for 1 week, no smoking, prescribed medications",
    estimatedSessions: 3,
    tags: ["хирургия", "имплант", "замена"],
    isActive: true,
  },
  {
    id: "4",
    name: "Отбеливание зубов",
    description: "Профессиональное отбеливание зубов для косметического улучшения",
    category: "COSMETIC_DENTISTRY",
    duration: 90,
    price: 400,
    status: "ACTIVE",
    requirements: ["Oral examination", "Shade assessment"],
    equipmentNeeded: ["Whitening gel", "LED light", "Protective barriers"],
    specialization: "Стоматолог-терапевт",
    difficulty: "BASIC",
    createdAt: "2024-01-01T00:00:00Z",
    updatedAt: "2024-01-18T00:00:00Z",
    createdBy: "Dr. Lisa Wong",
    procedures: [
      {
        id: "4-1",
        step: 1,
        title: "Preparation",
        description: "Clean teeth and apply protective barriers",
        duration: 15,
        tools: ["Rubber dam", "Protective gel"],
      },
      {
        id: "4-2",
        step: 2,
        title: "Gel Application",
        description: "Apply whitening gel to teeth",
        duration: 15,
        tools: ["Whitening gel", "Application brush"],
      },
      {
        id: "4-3",
        step: 3,
        title: "Light Activation",
        description: "Activate gel with LED light (3 cycles)",
        duration: 45,
        tools: ["LED light system"],
      },
      {
        id: "4-4",
        step: 4,
        title: "Final Assessment",
        description: "Remove gel and assess results",
        duration: 15,
        tools: ["Shade guide"],
      },
    ],
    contraindications: ["Pregnancy", "Sensitive teeth", "Recent dental work"],
    sideEffects: ["Temporary sensitivity", "Gum irritation"],
    followUpRequired: false,
    preparationInstructions: "Avoid staining foods 24 hours before treatment",
    postTreatmentCare: "Avoid staining substances for 48 hours",
    estimatedSessions: 1,
    tags: ["косметика", "отбеливание", "эстетика"],
    isActive: true,
  },
  {
    id: "5",
    name: "Ортодонтическая консультация",
    description: "Первичная консультация для планирования ортодонтического лечения",
    category: "ORTHODONTICS",
    duration: 45,
    price: 200,
    status: "ACTIVE",
    requirements: ["Panoramic X-ray", "Dental impressions", "Photos"],
    equipmentNeeded: ["Calipers", "Analysis software", "Impression materials"],
    specialization: "Ортодонт",
    difficulty: "INTERMEDIATE",
    createdAt: "2024-01-01T00:00:00Z",
    updatedAt: "2024-01-12T00:00:00Z",
    createdBy: "Dr. Robert Kim",
    procedures: [
      {
        id: "5-1",
        step: 1,
        title: "Clinical Examination",
        description: "Comprehensive oral and facial examination",
        duration: 15,
        tools: ["Dental mirror", "Probe", "Ruler"],
      },
      {
        id: "5-2",
        step: 2,
        title: "Records Collection",
        description: "Take impressions and photographs",
        duration: 20,
        tools: ["Impression materials", "Camera"],
      },
      {
        id: "5-3",
        step: 3,
        title: "Treatment Planning",
        description: "Discuss treatment options and timeline",
        duration: 10,
        tools: ["Treatment planning software"],
      },
    ],
    contraindications: ["Active periodontal disease", "Poor oral hygiene"],
    sideEffects: ["None"],
    followUpRequired: true,
    followUpDays: 14,
    preparationInstructions: "Bring previous dental records if available",
    postTreatmentCare: "Consider treatment options discussed",
    estimatedSessions: 1,
    tags: ["консультация", "ортодонтия", "планирование"],
    isActive: true,
  },
  {
    id: "6",
    name: "Детский стоматологический осмотр",
    description: "Комплексный стоматологический осмотр для детей",
    category: "PEDIATRIC_DENTISTRY",
    duration: 30,
    price: 120,
    status: "ACTIVE",
    requirements: ["Parent consent", "Medical history"],
    equipmentNeeded: ["Child-sized instruments", "Fluoride varnish"],
    specialization: "Детский стоматолог",
    difficulty: "BASIC",
    createdAt: "2024-01-01T00:00:00Z",
    updatedAt: "2024-01-22T00:00:00Z",
    createdBy: "Dr. Amanda Foster",
    procedures: [
      {
        id: "6-1",
        step: 1,
        title: "Introduction",
        description: "Introduce child to dental environment",
        duration: 5,
        tools: ["Show-tell-do technique"],
      },
      {
        id: "6-2",
        step: 2,
        title: "Examination",
        description: "Gentle examination of teeth and gums",
        duration: 15,
        tools: ["Small mirror", "Child probe"],
      },
      {
        id: "6-3",
        step: 3,
        title: "Cleaning",
        description: "Gentle cleaning and fluoride application",
        duration: 10,
        tools: ["Soft brush", "Fluoride varnish"],
      },
    ],
    contraindications: ["Child cooperation issues"],
    sideEffects: ["None typically"],
    followUpRequired: true,
    followUpDays: 180,
    preparationInstructions: "Prepare child with positive dental stories",
    postTreatmentCare: "Continue good oral hygiene habits",
    estimatedSessions: 1,
    tags: ["детская", "осмотр", "дети"],
    isActive: true,
  },
  {
    id: "7",
    name: "Подготовка коронки",
    description: "Подготовка зуба для установки керамической или металлической коронки",
    category: "PROSTHODONTICS",
    duration: 75,
    price: 600,
    status: "ACTIVE",
    requirements: ["Root canal completion", "Adequate tooth structure"],
    equipmentNeeded: ["High-speed handpiece", "Impression materials", "Temporary crown"],
    specialization: "Стоматолог-ортопед",
    difficulty: "INTERMEDIATE",
    createdAt: "2024-01-01T00:00:00Z",
    updatedAt: "2024-01-28T00:00:00Z",
    createdBy: "Dr. David Thompson",
    procedures: [
      {
        id: "7-1",
        step: 1,
        title: "Anesthesia",
        description: "Administer local anesthesia",
        duration: 10,
        tools: ["Local anesthetic", "Syringe"],
      },
      {
        id: "7-2",
        step: 2,
        title: "Tooth Preparation",
        description: "Shape tooth to receive crown",
        duration: 30,
        tools: ["Diamond burs", "High-speed handpiece"],
      },
      {
        id: "7-3",
        step: 3,
        title: "Impression Taking",
        description: "Take final impression for crown fabrication",
        duration: 20,
        tools: ["Impression material", "Trays"],
      },
      {
        id: "7-4",
        step: 4,
        title: "Temporary Crown",
        description: "Fabricate and cement temporary crown",
        duration: 15,
        tools: ["Temporary material", "Temporary cement"],
      },
    ],
    contraindications: ["Insufficient tooth structure", "Active infection"],
    sideEffects: ["Temporary sensitivity", "Gum irritation"],
    followUpRequired: true,
    followUpDays: 14,
    preparationInstructions: "Complete any required root canal treatment",
    postTreatmentCare: "Avoid sticky foods, maintain oral hygiene",
    estimatedSessions: 2,
    tags: ["коронка", "реставрация", "протезирование"],
    isActive: true,
  },
  {
    id: "8",
    name: "Лечение заболеваний десен",
    description: "Нехирургическая пародонтологическая терапия для лечения заболеваний десен",
    category: "PERIODONTICS",
    duration: 60,
    price: 300,
    status: "ACTIVE",
    requirements: ["Periodontal assessment", "X-rays"],
    equipmentNeeded: ["Ultrasonic scaler", "Hand curettes", "Antibiotics"],
    specialization: "Пародонтолог",
    difficulty: "INTERMEDIATE",
    createdAt: "2024-01-01T00:00:00Z",
    updatedAt: "2024-01-30T00:00:00Z",
    createdBy: "Dr. Maria Rodriguez",
    procedures: [
      {
        id: "8-1",
        step: 1,
        title: "Deep Cleaning",
        description: "Scale and root plane affected areas",
        duration: 40,
        tools: ["Ultrasonic scaler", "Curettes"],
      },
      {
        id: "8-2",
        step: 2,
        title: "Irrigation",
        description: "Irrigate pockets with antimicrobial solution",
        duration: 10,
        tools: ["Irrigation syringe", "Antimicrobial solution"],
      },
      {
        id: "8-3",
        step: 3,
        title: "Home Care Instructions",
        description: "Provide detailed oral hygiene instructions",
        duration: 10,
        tools: ["Educational materials"],
      },
    ],
    contraindications: ["Acute infection", "Bleeding disorders"],
    sideEffects: ["Sensitivity", "Mild bleeding", "Gum recession"],
    followUpRequired: true,
    followUpDays: 30,
    preparationInstructions: "Take antibiotics if prescribed",
    postTreatmentCare: "Improved oral hygiene, follow-up visits",
    estimatedSessions: 2,
    tags: ["пародонтология", "заболевание десен", "чистка"],
    isActive: true,
  }
];

// Helper functions
export const getTreatmentById = (id: string): Treatment | undefined => {
  return mockTreatments.find(treatment => treatment.id === id);
};

export const getTreatmentsByCategory = (category: string): Treatment[] => {
  return mockTreatments.filter(treatment => treatment.category === category);
};

export const getActiveTreatments = (): Treatment[] => {
  return mockTreatments.filter(treatment => treatment.status === "ACTIVE" && treatment.isActive);
};

export const getTreatmentStats = (): TreatmentStats => {
  const active = mockTreatments.filter(t => t.status === "ACTIVE").length;
  const inactive = mockTreatments.filter(t => t.status === "INACTIVE").length;
  
  const byCategory = mockTreatments.reduce((acc, treatment) => {
    acc[treatment.category] = (acc[treatment.category] || 0) + 1;
    return acc;
  }, {} as Record<string, number>);

  const totalPrice = mockTreatments.reduce((sum, t) => sum + t.price, 0);
  const totalDuration = mockTreatments.reduce((sum, t) => sum + t.duration, 0);

  return {
    total: mockTreatments.length,
    active,
    inactive,
    byCategory: byCategory as any,
    averagePrice: Math.round(totalPrice / mockTreatments.length),
    averageDuration: Math.round(totalDuration / mockTreatments.length),
  };
};