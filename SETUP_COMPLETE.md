# ‚úÖ –ú–æ–Ω–æ—Ä–µ–ø–æ —É—Å–ø–µ—à–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –∑–∞–ø—É—â–µ–Ω!

## üéâ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º–æ–Ω–æ—Ä–µ–ø–æ
- ‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω Lerna 8.2.4 —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π pnpm
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω pnpm workspace
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –∏–º–µ–Ω–∞ –ø–∞–∫–µ—Ç–æ–≤ –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å –º–æ–Ω–æ—Ä–µ–ø–æ
- ‚úÖ –£–¥–∞–ª–µ–Ω—ã —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (yarn, packageManager fields)

### 2. –ú–∏–≥—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–æ–≤
- ‚úÖ **Frontend (@med-monorepo/frontend)** - Next.js 15.4.6
  - –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ: `packages/frontend/`
  - –ü–æ—Ä—Ç: **3000**
  - –°—Ç–∞—Ç—É—Å: ‚úÖ **–ó–∞–ø—É—â–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç**

- ‚úÖ **Backend (@med-monorepo/backend)** - NestJS 10.0
  - –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ: `packages/backend/`
  - –ü–æ—Ä—Ç: **4000**
  - –°—Ç–∞—Ç—É—Å: ‚úÖ **–ó–∞–ø—É—â–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç**

### 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ **1423+ –ø–∞–∫–µ—Ç–∞**
- ‚úÖ Prisma Client —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω
- ‚ö†Ô∏è –ù–µ–±–æ–ª—å—à–∏–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ peer dependencies (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ)

## üöÄ –ó–∞–ø—É—â–µ–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã

| –°–µ—Ä–≤–∏—Å | URL | –°—Ç–∞—Ç—É—Å |
|--------|-----|--------|
| Frontend | http://localhost:3000 | ‚úÖ Running |
| Backend API | http://localhost:4000 | ‚úÖ Running |
| Swagger API Docs | http://localhost:4000/api | üìÑ Available |

## üìù –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ –ø—Ä–æ–µ–∫—Ç—ã (—É–∂–µ –∑–∞–ø—É—â–µ–Ω–æ)
pnpm dev

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ –ø—Ä–æ–µ–∫—Ç—ã
# –ù–∞–∂–º–∏—Ç–µ Ctrl+C –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ frontend
pnpm --filter @med-monorepo/frontend dev

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ backend
pnpm --filter @med-monorepo/backend dev

# –°–±–æ—Ä–∫–∞ –≤—Å–µ—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤
pnpm build

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –≤ frontend
pnpm add <package> --filter @med-monorepo/frontend

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –≤ backend
pnpm add <package> --filter @med-monorepo/backend

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã
pnpm test

# –õ–∏–Ω—Ç–∏–Ω–≥
pnpm lint

# –û—á–∏—Å—Ç–∏—Ç—å node_modules
pnpm clean
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
med-monorepo/
‚îú‚îÄ‚îÄ packages/
‚îÇ   ‚îú‚îÄ‚îÄ frontend/          # Next.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ src/          # –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ public/       # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ package.json  # @med-monorepo/frontend
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ backend/          # NestJS API
‚îÇ       ‚îú‚îÄ‚îÄ src/          # –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
‚îÇ       ‚îú‚îÄ‚îÄ prisma/       # Prisma —Å—Ö–µ–º—ã
‚îÇ       ‚îî‚îÄ‚îÄ package.json  # @med-monorepo/backend
‚îÇ
‚îú‚îÄ‚îÄ node_modules/         # –û–±—â–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ lerna.json           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Lerna
‚îú‚îÄ‚îÄ pnpm-workspace.yaml  # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è pnpm workspaces
‚îú‚îÄ‚îÄ package.json         # –ö–æ—Ä–Ω–µ–≤–æ–π package.json
‚îî‚îÄ‚îÄ pnpm-lock.yaml       # Lock —Ñ–∞–π–ª pnpm
```

## ‚ö†Ô∏è –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è

### Frontend
- `react-i18next` —Ç—Ä–µ–±—É–µ—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ `initReactI18next`
- –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∞–≤–∞—Ç–∞—Ä–æ–≤ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç (404) - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ

### Backend
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç PostgreSQL –Ω–∞ `localhost:5432`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∑–∞–ø—É—â–µ–Ω–∞
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `.env` —Ñ–∞–π–ª –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

### ESLint
- Peer dependency warning –¥–ª—è `eslint` (–≤–µ—Ä—Å–∏—è 9 –≤–º–µ—Å—Ç–æ 7-8)
- –≠—Ç–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ –∏ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Ä–∞–±–æ—Ç—É

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### Frontend (.env.local)
```bash
# –°–æ–∑–¥–∞–π—Ç–µ packages/frontend/.env.local –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
NEXT_PUBLIC_API_URL=http://localhost:4000/api/v1
```

### Backend (.env)
```bash
# –§–∞–π–ª —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ packages/backend/.env
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/medical_clinic_db?schema=public
JWT_SECRET=your-super-secret-jwt-key-change-in-production
PORT=4000
```

## üìä Git commits

–°–æ–∑–¥–∞–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–º–∏—Ç—ã:
1. `chore: initial monorepo setup with lerna and pnpm`
2. `feat: migrate frontend and backend projects to monorepo`

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ **–û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ**
   - Frontend: http://localhost:3000
   - Backend API: http://localhost:4000/api

2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**
   - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã frontend
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å API endpoints backend

3. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å CI/CD** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - –î–æ–±–∞–≤–∏—Ç—å GitHub Actions / GitLab CI
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π

4. **–î–æ–±–∞–≤–∏—Ç—å –æ–±—â–∏–µ –ø–∞–∫–µ—Ç—ã** (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
   - –°–æ–∑–¥–∞—Ç—å `packages/shared` –¥–ª—è –æ–±—â–∏—Ö —Ç–∏–ø–æ–≤
   - –°–æ–∑–¥–∞—Ç—å `packages/ui` –¥–ª—è –æ–±—â–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Lerna Documentation](https://lerna.js.org/)
- [pnpm Workspaces](https://pnpm.io/workspaces)
- [Next.js Documentation](https://nextjs.org/docs)
- [NestJS Documentation](https://docs.nestjs.com/)

## üÜò Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: "Cannot find module"
```bash
# –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à –∏ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
pnpm clean
pnpm install
```

### –ü—Ä–æ–±–ª–µ–º–∞: "Port already in use"
```bash
# –ù–∞–π—Ç–∏ –∏ —É–±–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞ –ø–æ—Ä—Ç—É
lsof -i :3000  # –∏–ª–∏ :4000
kill -9 <PID>
```

### –ü—Ä–æ–±–ª–µ–º–∞: "Prisma Client not generated"
```bash
pnpm --filter @med-monorepo/backend prisma generate
```

---

**–°—Ç–∞—Ç—É—Å: ‚úÖ –í—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç!**  
**–î–∞—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:** 16 –æ–∫—Ç—è–±—Ä—è 2025, 23:47

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –≤–æ–ø—Ä–æ—Å—ã, –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –≤ `README.md` –∏–ª–∏ `MIGRATION_GUIDE.md`
